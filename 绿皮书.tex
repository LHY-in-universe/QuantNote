\documentclass[12pt]{book}

\usepackage[UTF8]{ctex} % 替换 CJKutf8, 更好的中文支持
\usepackage{geometry}
\geometry{a4paper,scale=0.7}
\usepackage{mathrsfs}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{setspace}
\onehalfspacing
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{2}

\title{绿皮书 \\ A Practical Guide to Quantitative Finance Interviews}
\author{LHY}
\date{\today}

\begin{document}

\maketitle

\frontmatter % 前言部分（罗马数字页码）
\tableofcontents

\mainmatter % 正文部分（阿拉伯数字页码）

\chapter{General Principles 一般原则}
\begin{itemize}
  \item Build a broad knowledge base
  \item Practice your interview skills
  \item Listen carefully
  \item Speak your mind
  \item Make reasonable assumptions
\end{itemize}

\chapter{Brain Teasers 脑筋急转弯}
\section{Problem Simplification 问题简化}
\subsection{Screwy pirates 疯狂的海盗}
\noindent \textit{Question:}

五个海盗有100个金币, 他们采用以下方式分配：
最年长的海盗提出分配策略, 所有人进行投票, 如果超过50\%的海盗赞同, 通过, 反之最年长的海盗喂鲨鱼. 然后次年长的海盗开始. 假设所有海盗都是完美理性：存活为主, 尽量获得更多金币, 如果两种策略差不多, 船上海盗越少越好. 

\noindent \textit{Solution:} 

考虑两个海盗的简单情况, 海盗代号从1到5, 1大5小. 

对于只有4和5的情况, 无论4提出什么策略都会通过, 所以5会避免出现此种情况. 

对于3、4和5, 3知道如果5在这种策略下一无所获的话, 3就会喂鲨鱼, 所以3给自己99个金币, 给5一个, 这会保障3的策略通过. 在这种情况下, 4一无所获, 所以他要避免这种情况. 

对于2、3、4和5, 2给自己99个, 给4一个, 会保证2的策略通过. 3和5一无所获, 所以会避免这种情况. 

对于1、2、3、4和5, 1给自己98个, 3和5各一个, 1的策略通过. 这也是实际会采取的策略. 

\subsection{Tiger and sheep 老虎和羊}
\noindent \textit{Question:}

一百只老虎和一只羊被放在一个只有草的神奇小岛上. 老虎可以吃草, 但它们更愿意吃羊. 假设A. 每次只能有一只老虎吃一只羊, 而这只老虎吃完羊后自己也会变成一只羊. B. 所有的老虎都很聪明, 而且非常理性, 它们都想生存下去. 那么羊会被吃掉吗？

\noindent \textit{Solution:} 

两只老虎时不会, 三只老虎时会, 四只老虎时不会. 以此类推.

\section{Logic Reasoning 逻辑推理}
\subsection{River crossing 过河问题}
\noindent \textit{Question:}

四个人, A、B、C和D需要过河. 唯一的过河方式是通过一座旧桥, 最多只能容纳两人同时过桥. 由于天黑, 他们不能没有火炬过桥, 而他们只有一个火炬. 所以每对人只能以较慢的人的速度行走. 他们需要尽快地将所有人送到对岸. A是最慢的, 需要10分钟过桥；B需要5分钟；C需要2分钟；D需要1分钟. 那么将所有人送到对岸所需的最短时间是多少？

\noindent \textit{Solution:} 

关键是要认识到, 10 分钟的人应该和 5 分钟的人一起走, 这不应该发生在第一次穿越时, 否则其中一人就必须返回. 因此, C 和 D 应先过河（2 分钟）；然后让 D 返回（分钟）；A 和 B 过河（10 分钟）；让 C 返回（2 分钟）；C 和 D 再次过河（2 分钟）. 

\subsection{Horse race 赛马}
\noindent \textit{Question:}

这里有25匹马, 每匹马以恒定的速度跑步, 且每匹马的速度都不同于其他马. 由于跑道只有5条道, 每场比赛最多只能有5匹马. 如果你需要找到3匹最快的马, 需要举行的最少比赛次数是多少？

\noindent \textit{Solution:} 

首先举行5场比赛, 得出每场比赛的前三名. 第一比赛, 得出前三名. 第一的第二第三, 第二的第三, 第三进行比赛, 得出前两名.

\section{Thinking Out of the Box 跳出去思考}
\subsection{Box packing 盒子包装}
\noindent \textit{Question:}

把53块 $1\times 1\times 4$ 的砖放进 $6\times 6 \times 6$ 的盒子.

\noindent \textit{Solution:} 

思考 $6\times 6 \times 6$ 分成 27个 $2\times 2 \times 2$ 的小盒子, 14个涂成黑色, 13个涂成白色, 交替涂. 一黑一白最多可以放4个砖, 所以最多可以放 $13\times 4 =52$ 个砖.

\subsection{Calendar cubes 日历方块}
\noindent \textit{Question:}

两个定制骰子, 印上0-9数字, 来显示每个月的日期, 应该怎么安排?

\noindent \textit{Solution:} 

\begin{itemize}
  \item \textbf{第一个}: 0 1 2 3 4 5
  \item \textbf{第二个}: 0 1 2 6 7 8
\end{itemize}

\subsection{Door to offer 幸运门}
\noindent \textit{Question:}

有两扇门, 一扇幸运一扇不幸. 门前有守卫, 一个讲真话, 一个说假话. 只能问一个守卫一个是或者否的问题, 怎么知道幸运门?

\noindent \textit{Solution:} 

问一个守卫“对面那个守卫会告诉我这个门是幸运门吗”.

\subsection{Message delivery 信件传输}
\noindent \textit{Question:}

你需要使用一个盒子给同事传信, 你们各有一把锁, 锁不一样, 只有本人可以打开, 没有上锁的盒子里面的东西会被偷走. 怎么给同事信件?

\noindent \textit{Solution:} 

你先上锁, 给同事后同事上锁, 寄回来你开锁再给同事, 同事开锁.

\subsection{Last ball 最后的球}
\noindent \textit{Question:}

包中有20个蓝球和14个红球, 不放回的拿两个球. 如果同色, 放一个蓝球, 异色, 放一个红球, 你有无限的球. 包中最后的球是什么颜色?

\noindent \textit{Solution:} 

\begin{itemize}
  \item 拿出两个蓝球: 蓝球-1
  \item 拿出两个红球: 红球-2, 蓝球+1
  \item 拿出异色: 蓝球-1
\end{itemize}

如果是14个红球, 红球一定成对拿走, 最后一个是蓝球.
如果是13个红球, 最后一个是蓝球.

\subsection{Quant salary 薪水问题}
\noindent \textit{Question:}

如何在不知道其他人工资的情况下计算平均工资?

\noindent \textit{Solution:} 

第一个人的工资加随机数, 如何传给其他人, 最后第一个人减去随机数得到平均工资.

\section{Application of Symmetry 对称性的使用}
\subsection{Coin piles 硬币堆}
\noindent \textit{Question:}

在一个黑暗的房间里面, 有1000枚硬币, 980枚朝上, 20枚朝下. 你可以无数次反转硬币, 可以把硬币分成两堆, 朝下的个数一样吗?

\noindent \textit{Solution:} 

随机找到20个分成一堆, 全部反转, 即可达成目标.

\subsection{Mislabeled bags 错误标签的书包}
\noindent \textit{Question:}

有三个书包, 一个全是苹果, 一个全是橘子, 一个是苹果和橘子的混合, 但是标签全部错误. 最少拿多少个水果, 可以分辨出来.

\noindent \textit{Solution:} 

因为标签全部错误, 所以只需要看混合书包. 混合书包一定的纯的, 拿出一个水果, 就可以判断全部.

\subsection{Wise men 智者}
\noindent \textit{Question:}

国王抓了50个智者, 他有一个反着的杯子, 每分钟他可以随机叫一个智者来反转或不动杯子. 当有人正确地说他已经叫了全部智者, 那么所有智者得救. 所有智者只能交流一次. 有什么策略可以使所有人得救?

\noindent \textit{Solution:} 

选出一个传话者, 他每次见到正的杯子会倒过来, 剩下的人第一次看见倒着的杯子要正过来. 传话者进行计数, 49次时即可.

\section{Series Summation 级数相加}
$$\sum_{n=1}^N n =\frac{N(N+1)}{2} $$
$$\sum_{n=1}^N n^2=\frac{N(N+1)(2N+1)}{6}=\frac{N^3}{3}+\frac{N^2}{2}+\frac{N}{6}$$

\subsection{Missing integers 丢失的整数}
\noindent \textit{Question:}

在1-100的范围里面, 有98个不一样的数字, 怎么找到两个失去的数字?

\noindent \textit{Solution:} 

计算98个数字的和和平方和, 与1-100的结果做差, 解方程组可得.

\subsection{Counterfeit coins 找出假币}
\noindent \textit{Question:}

10个袋子, 每个袋子有100个硬币, 所有硬币重10克, 只有一个袋子有假币, 假币重9或者11克. 怎么使用一个显示精确重量的电子秤一次称出那个袋子有假币?

\noindent \textit{Solution:} 

每一个袋子各自取不同数量的硬币, 一起称量. 看理论值与实际值的差, 即可猜出哪个袋子有假币.

\subsection{Glass balls 玻璃球}
\noindent \textit{Question:}

你在100层楼上, 有两个玻璃球. 你可以往下扔球, 超过X层时, 球会破. 考虑最坏的情况, 为了得到X, 最少要扔多少次球?

\noindent \textit{Solution:} 

假设在N层扔球, 球破了, 最坏要N次才可以得出. 球没有破, 尝试在N+N-1层扔球, 球破, 最坏要N次确定. 球没有破, 尝试N+N-1+N-2层, 以此类推最多层数为N(N+1)/2, 对于100, N=14.

\section{The Pigeon Hole Principle 鸽巢原理}
如果鸽巢数量比鸽子少, 那么在将所有鸽子放到鸽巢后, 一定有至少一个鸽巢容纳多只鸽子.

\subsection{Matching socks 分袜子}
\noindent \textit{Question:}

你抽屉里面有2只红外子, 20只黄袜子, 31只蓝袜子. 你要随机在抽屉拿多少只袜子, 才可以保证有成对的袜子?

\noindent \textit{Solution:} 

一共3个颜色, 4只就可以.

\subsection{Have we met before 拉姆齐理论}
\noindent \textit{Question:}

6个人的聚会中, 一定有三个人互相不认识或者互相认识.

\noindent \textit{Solution:} 

对A来说, 至少3人认识或者不认识A. 这三个人中或者最少两个人认识, 或者都不认识.

\subsection{Ants on a square}
\noindent \textit{Question:}

有51个蚂蚁在长度为1的广场上, 是否可以拿一个直径1/7的圆盘盖住至少三个蚂蚁?

\noindent \textit{Solution:} 

将广场分成25部分, 其中至少有一个区域最少有三只蚂蚁.

\section{Modular Arithmetic 模运算}
\subsection{Prisoner problem 囚犯问题}
\noindent \textit{Question:}

明天, 一百名囚犯将获得自由的机会. 他们都被告知, 每人将被分配戴红色或蓝色的帽子. 每名囚犯都能看到其他人的帽子, 但看不到自己的帽子. 帽子的颜色是随机分配的, 一旦帽子被戴到头上, 他们就不能以任何形式与他人交流, 否则他们将被立即处决. 囚犯将被随机叫出, 叫出的囚犯将猜测自己的帽子的颜色. 每名囚犯都会公开宣布自己的帽子的颜色, 以便其他人都能听到. 如果囚犯正确猜测了自己的帽子的颜色, 他将被立即释放；否则他将被处决. 他们被给予一夜来制定策略, 以拯救尽可能多的囚犯. 他们可以采取什么样的策略, 并且可以保证拯救多少囚犯？

\noindent \textit{Solution:} 

最少99个. 第一个犯人看红色帽子个数, 奇数就是红色, 反之蓝色. 其他人根据他的回答判断自己的颜色.


\subsection{Division by 9 9的倍数}
\noindent \textit{Question:}

证明任意一个数, 若所有整数位相加是9的倍数, 则该数是9的倍数.

\noindent \textit{Solution:} 

$a=a_n 10^n+a_{n-1} 10^{n-1}+...+a_1 10 +a_0 $, 若 $a_n+...+a_1+a_0=9x$, 则 $a-9x=a_n(10^n-1)+a_{n-1}(10^{n-1}-1)+...+a_1(10-1) \% 9 =0$


\section{Math Induction 数学归纳法}
\subsection{Chocolate bar problem 巧克力棒问题 }
\noindent \textit{Question:}

一个巧克力有 $6\times 8$ 样子, 可以把巧克力分成两份 $6\times 3, 6\times 5$. 多少次可以把巧克力分成48份?

\noindent \textit{Solution:} 

每次断裂都可以使巧克力数量+1, 所以有48-1=47次.

\section{Proof by Contradiction 反证法}
\subsection{Irrational number 无理数}
\noindent \textit{Question:}

有理数可以使用分数表示, 证明$\sqrt{2}$是无理数.

 \noindent \textit{Solution:} 
 
 假设 $\sqrt{2}=\frac{m}{n}$, 其中 $mn $不可约分. 可得$2n^2=m^2$, m是偶数, $m=2x, m^2=4x^2, n^2=2x^2$, 得出n是偶数, mn可以约分.
 
  
\chapter{Probability Theory 概率论}
\section{Basic Probability Definitions and Set Operations 基本概念}

\textbf{Outcome} $(\omega)$: The outcome of an experiment or trial

\textbf{Sample space OR Probability space} $\Omega$: The set of all possible outcomes of an experiment.

\subsection{Coin toss game 抛硬币游戏}
\noindent \textit{Question:}

A有n+1个硬币, B有n个硬币. 抛完所有硬币后, A朝上的数量比B多的概率是?

 \noindent \textit{Solution:} 
 
 考虑A有n个硬币, 这时候有对称性. 一共三种可能, 一方多或者一样多. 可得式子 $2x+y=1$. 考虑A多出的一个硬币, A比B多的概率变成 $x+0.5y=x+0.5(1-2x)=0.5$

\subsection{Drunk passenger 喝醉的乘客}
\noindent \textit{Question:}

有100个人坐飞机, 每个人都有自己的座位. 第一个乘客喝醉了, 随机坐了一个座位. 如果其他乘客发现自己的座位被占, 会随机挑选一个座位. 第一百个乘客正确做到自己座位的概率?

 \noindent \textit{Solution:} 
 
 只考虑第一个座位和第一百个座位, 只有两种可能. 第一个座位在第一百个之前坐, 或在之后坐. 两个事件概率相同. 对于第一种情况, 会成功做到自己座位上面, 概率是0.5.
 
 \subsection{N points on a circle 圆上的点}
\noindent \textit{Question:}


N个点随机分布在圆上, 它们都在一个半圆的概率是多少?

 \noindent \textit{Solution:} 
 
 



















\end{document}
